{% extends "base/AdminDashboard.html" %}
{% block content %}

<h3 class="mt-3">Evaluation Record</h3>
<div class="card h-100 min-vh-100 d-flex flex-column">
  <div class="card-header border-bottom">
      <h5 class="card-title mb-0">Search Filters</h5>
      <div class="row pt-4 g-3 align-items-end">
        <div class="col-md-6">
            <label for="employeeName" class="form-label">Employee Name</label>
            <input type="text" id="employeeName" class="form-control" placeholder="Enter employee name">
          </div>
          
          <div class="col-md-6">
            <label for="ratingDate" class="form-label">Date</label>
            <input type="date" id="ratingDate" class="form-control">
          </div>
          
      </div>
    </div>

    <div class="card-datable">
      <div class="row mx-3 my-3 align-items-center justify-content-between">
        
        <!-- Left: Length selector -->
        <div class="col-12 col-md-auto mb-3 mb-md-0">
          <!-- Search -->
          <div class="dt-search">
              <label for="dt-search-0" class="visually-hidden">Search</label>
              <input type="search" id="dt-search-0" class="form-control" placeholder="Search User" aria-controls="DataTables_Table_0">
            </div>
        </div>
    
        <!-- Right: Search, Export, Add -->
        <div class="col-12 col-md d-flex flex-wrap gap-3 justify-content-md-end justify-content-center">
          
          
    
          <!-- Buttons: Export + Add -->
            
            <!-- Export Button -->
            <div class="btn-group">
              <button class="btn btn-primary  dropdown-toggle" type="button" id="exportDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                  <i class="bi bi-box-arrow-up me-1"></i>
                  <span class="d-none d-sm-inline-block">Export</span>
              </button>
              <ul class="dropdown-menu" aria-labelledby="exportDropdown">
                  <li><a class="dropdown-item" href="{{ url_for('generate_ipcr', employee_id=employee.id) }}"><i class="bi bi-file-pdf me-2"></i>Export as PDF</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="{{ url_for('print_ipcr', employee_id=employee.id) }}" target="_blank"> <i class="bi bi-printer me-2"></i>Print</a></li>

                </ul>
                
            </div>
        </div>
      </div>


      <div class="dt-layout-table" style="height: 100%; display: flex; flex-direction: column;">
          <div class="d-md-flex justify-content-between align-items-center dt-layout-full table-responsive" style="flex: 1; overflow: auto;">
              <table class="table table-bordered align-middle border-top dataTable dtr-column collapsed" 
              id="DataTables_Table_0" 
              aria-describedby="DataTables_Table_0_info" 
              style="width: 100%; height: 100%;">
              
       
              <thead class="table-dark align-middle text-center">
                  <tr>
                    <th rowspan="2">MFO</th>
                    <th rowspan="2">Success Indicator</th>
                    <th rowspan="2">Allocated Budget</th>
                    <th rowspan="2">Division</th>
                    <th rowspan="2">Actual Expenses</th>
                    <th colspan="4" class="border">RATING</th>
                    <th rowspan="2">Remarks</th>
                  </tr>
                  <tr>
                    <th class="border">Q</th>
                    <th class="border">E</th>
                    <th class="border">T</th>
                    <th class="border">A</th>
                  </tr>
                </thead>
                
            
                <tbody>
                    <tr class="table-primary fw-semibold">
                      <td colspan="11" style="text-align: left;">Strategic Objectives</td>
                    </tr>
                    <tr>
                      <td>Lorem ipsum for Strategic</td>
                      <td>Indicator 1</td>
                      <td>100000</td>
                      <td><input type="text" class="form-control"></td>
                      <td>95000</td>
                      <td><input type="number" class="form-control text-center rating-input" name="q" min="1" max="5" value="5"></td>
                      <td><input type="number" class="form-control text-center rating-input" name="e" min="1" max="5" value="4"></td>
                      <td><input type="number" class="form-control text-center rating-input" name="t" min="1" max="5" value="5"></td>
                      <td><input type="number" class="form-control text-center" name="a" min="1" max="5" value="4.67"></td>
                    </tr>
        
                    <tr class="table-primary fw-semibold">
                       <td colspan="11" style="text-align: left;">Core Functions</td>
                    </tr>
                    <tr>
                      <td>Lorem ipsum for Core</td>
                      <td>Indicator 2</td>
                      <td>80000</td>
                      <td><input type="text" class="form-control"></td>
                      <td>82000</td>
                      <td><input type="number" class="form-control text-center rating-input" name="q" min="1" max="5" value="4"></td>
                      <td><input type="number" class="form-control text-center rating-input" name="e" min="1" max="5" value="5"></td>
                      <td><input type="number" class="form-control text-center rating-input" name="t" min="1" max="5" value="5"></td>
                      <td><input type="number" class="form-control text-center" name="a" min="1" max="5" value="4.67"></td>
                    </tr>
        
                    <tr class="table-primary fw-semibold">
                     <td colspan="11" style="text-align: left;">Support Functions</td>
        
                    </tr>
                    <tr>
                      <td>Lorem ipsum for Support</td>
                      <td>Indicator 3</td>
                      <td>50000</td>
                      <td><input type="text" class="form-control"></td>
                      <td>49000</td>
                      <td><input type="number" class="form-control text-center rating-input" name="q" min="1" max="5" value="3"></td>
                      <td><input type="number" class="form-control text-center rating-input" name="e" min="1" max="5" value="4"></td>
                      <td><input type="number" class="form-control text-center rating-input" name="t" min="1" max="5" value="4"></td>
                      <td><input type="number" class="form-control text-center" name="a" min="1" max="5" value="4.67"></td>
                    </tr>
                  </tbody>
                
        </table>
      </div>
  
  </div>
    </div>
    
</div>
{% endblock %}
